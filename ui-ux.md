# 照護排班系統 UI/UX 設計文件

## 1. 設計原則

### 1.1 核心理念
- **效率優先**：減少點擊次數，快速完成排班操作
- **資訊清晰**：班表狀態一目了然，異常即時醒目提示
- **操作直覺**：拖拉式互動，符合使用者心智模型
- **響應式設計**：支援桌面、平板、手機多裝置

### 1.2 設計規範

#### 色彩系統
| 用途 | 色碼 | 說明 |
|------|------|------|
| 主色 | `#1976D2` | 品牌藍，主要按鈕、導航 |
| 成功 | `#4CAF50` | 已確認、已核准 |
| 警告 | `#FF9800` | 待處理、需注意 |
| 錯誤 | `#F44336` | 缺口、衝突、拒絕 |
| 中性 | `#757575` | 次要文字、邊框 |
| 背景 | `#F5F5F5` | 頁面背景 |
| 白班 | `#FFF8E1` | 淡黃色底 |
| 小夜 | `#E3F2FD` | 淡藍色底 |
| 大夜 | `#EDE7F6` | 淡紫色底 |

#### 字體規範
| 層級 | 大小 | 權重 | 用途 |
|------|------|------|------|
| H1 | 24px | 600 | 頁面標題 |
| H2 | 20px | 600 | 區塊標題 |
| H3 | 16px | 600 | 卡片標題 |
| Body | 14px | 400 | 內文 |
| Caption | 12px | 400 | 輔助說明 |

#### 間距系統
- 基礎單位：4px
- 常用間距：8px, 12px, 16px, 24px, 32px

---

## 2. 資訊架構

```
┌─────────────────────────────────────────────────────────┐
│                      照護排班系統                        │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  ├── 首頁 (Dashboard)                                   │
│  │   ├── 今日班表總覽                                   │
│  │   ├── Leader 缺口警示                                │
│  │   └── 待辦事項                                       │
│  │                                                      │
│  ├── 班表管理                                           │
│  │   ├── 月曆檢視                                       │
│  │   ├── 週檢視                                         │
│  │   ├── 日檢視                                         │
│  │   └── 手動調整                                       │
│  │                                                      │
│  ├── 請假管理                                           │
│  │   ├── 請假申請                                       │
│  │   ├── 審核列表                                       │
│  │   └── 請假紀錄                                       │
│  │                                                      │
│  ├── 跨院調度                                           │
│  │   ├── 人力總覽                                       │
│  │   ├── 調度申請                                       │
│  │   └── 審核管理                                       │
│  │                                                      │
│  ├── 報表匯出                                           │
│  │   ├── 班表報表                                       │
│  │   └── 統計報表                                       │
│  │                                                      │
│  ├── 員工管理 (管理員)                                  │
│  │   ├── 員工列表                                       │
│  │   └── 員工詳情                                       │
│  │                                                      │
│  └── 系統設定 (管理員)                                  │
│      ├── 院區設定                                       │
│      ├── 班別設定                                       │
│      └── 通知設定                                       │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

---

## 3. 頁面設計

### 3.1 整體佈局

```
┌────────────────────────────────────────────────────────────────┐
│  LOGO   照護排班系統              🔔 3    👤 王小明 ▼          │
├────────┬───────────────────────────────────────────────────────┤
│        │                                                       │
│  導航   │                      主內容區                         │
│  選單   │                                                       │
│        │                                                       │
│ ┌────┐ │                                                       │
│ │首頁│ │                                                       │
│ ├────┤ │                                                       │
│ │班表│ │                                                       │
│ ├────┤ │                                                       │
│ │請假│ │                                                       │
│ ├────┤ │                                                       │
│ │調度│ │                                                       │
│ ├────┤ │                                                       │
│ │報表│ │                                                       │
│ ├────┤ │                                                       │
│ │設定│ │                                                       │
│ └────┘ │                                                       │
│        │                                                       │
└────────┴───────────────────────────────────────────────────────┘
```

- 左側導航：固定寬度 240px，可收合至 64px（僅顯示 icon）
- 頂部導航：固定高度 64px
- 主內容區：響應式，最小寬度 320px

---

### 3.2 首頁 Dashboard

```
┌─────────────────────────────────────────────────────────────────┐
│  首頁                                          2024/01/15 週一  │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌───────────┐ │
│  │  今日出勤    │ │  待審請假    │ │  Leader缺口  │ │  跨院支援  │ │
│  │     45      │ │      3      │ │   ⚠️ 2      │ │     1     │ │
│  │    人       │ │     件      │ │    個       │ │    人     │ │
│  └─────────────┘ └─────────────┘ └─────────────┘ └───────────┘ │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │  ⚠️ Leader 缺口警示                              展開 ▼  │   │
│  ├─────────────────────────────────────────────────────────┤   │
│  │  🔴 01/16 (二) 白班 - 雙和院區 - 缺 1 位 Leader          │   │
│  │     建議人選：李小華、張大明                    [處理]   │   │
│  │  🔴 01/17 (三) 白班 - 北醫院區 - 缺 1 位 Leader          │   │
│  │     建議人選：王小玲                           [處理]   │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ┌──────────────────────────┐ ┌──────────────────────────┐     │
│  │  今日班表 - 雙和院區       │ │  待辦事項                │     │
│  ├──────────────────────────┤ ├──────────────────────────┤     │
│  │  白班 08:00-16:00        │ │  ☐ 審核王小明請假申請     │     │
│  │  👤 王小明 (L)           │ │  ☐ 確認跨院調度 - 李小華  │     │
│  │  👤 李小華               │ │  ☐ 01/20 班表確認        │     │
│  │  👤 張大明               │ │                          │     │
│  │                          │ │                          │     │
│  │  小夜 16:00-24:00        │ │                          │     │
│  │  👤 陳小花 (L)           │ │                          │     │
│  │  👤 林小美               │ │                          │     │
│  └──────────────────────────┘ └──────────────────────────┘     │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘

(L) = Leader
```

---

### 3.3 班表管理 - 月曆檢視

```
┌─────────────────────────────────────────────────────────────────┐
│  班表管理                                                       │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  [院區選擇 ▼] 雙和院區    ◀ 2024年1月 ▶    [月] [週] [日]      │
│                                                                 │
│  ┌─────┬─────┬─────┬─────┬─────┬─────┬─────┐                   │
│  │ 日  │ 一  │ 二  │ 三  │ 四  │ 五  │ 六  │                   │
│  ├─────┼─────┼─────┼─────┼─────┼─────┼─────┤                   │
│  │     │  1  │  2  │  3  │  4  │  5  │  6  │                   │
│  │     │ 3/3 │ 3/3 │ 3/3 │ 3/3 │ 3/3 │ 2/3 │                   │
│  │     │ ✓   │ ✓   │ ✓   │ ✓   │ ✓   │ ⚠️  │                   │
│  ├─────┼─────┼─────┼─────┼─────┼─────┼─────┤                   │
│  │  7  │  8  │  9  │ 10  │ 11  │ 12  │ 13  │                   │
│  │ 2/3 │ 3/3 │ 3/3 │ 3/3 │ 3/3 │ 3/3 │ 3/3 │                   │
│  │ ⚠️  │ ✓   │ ✓   │ ✓   │ ✓   │ ✓   │ ✓   │                   │
│  ├─────┼─────┼─────┼─────┼─────┼─────┼─────┤                   │
│  │ 14  │ 15  │ 16  │ 17  │ 18  │ 19  │ 20  │                   │
│  │ 3/3 │ 3/3 │ 2/3 │ 3/3 │ 3/3 │ 3/3 │ 3/3 │                   │
│  │ ✓   │ ✓   │ 🔴  │ ✓   │ ✓   │ ✓   │ ✓   │                   │
│  └─────┴─────┴─────┴─────┴─────┴─────┴─────┘                   │
│                                                                 │
│  圖例：✓ 滿編  ⚠️ 人力不足  🔴 Leader缺口                       │
│                                                                 │
│  點擊日期查看詳情 / 進行調整                                    │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

### 3.4 班表管理 - 日檢視（手動調整）

```
┌─────────────────────────────────────────────────────────────────┐
│  班表管理 > 2024/01/16 (二)                      [儲存] [取消]  │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  [院區選擇 ▼] 雙和院區                    ◀ 01/15  01/16  01/17 ▶│
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │        │   白班 08-16    │   小夜 16-24   │   大夜 00-08  │   │
│  │        │   需求: 3人     │   需求: 2人    │   需求: 2人   │   │
│  │        │   Leader: 1    │   Leader: 1   │   Leader: 0  │   │
│  ├────────┼────────────────┼───────────────┼──────────────┤   │
│  │ 已排班  │ 👤 王小明      │ 👤 陳小花(L)  │ 👤 黃大雄    │   │
│  │        │ 👤 李小華      │ 👤 林小美     │ 👤 周小玉    │   │
│  │        │ ⚠️ 缺1人+Leader │               │              │   │
│  ├────────┼────────────────┼───────────────┼──────────────┤   │
│  │ 可用    │ 🟢 張大明 (L)  │ 🟢 吳小芳     │ 🟢 趙小強    │   │
│  │ 人員    │ 🟢 劉小麗      │ 🟢 鄭小雯     │              │   │
│  │        │ 🟡 趙小強      │               │              │   │
│  │        │ (已排大夜)     │               │              │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  💡 拖拉人員至班別進行排班                                      │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │  調整紀錄                                                │   │
│  ├─────────────────────────────────────────────────────────┤   │
│  │  14:32 - 將「張大明」加入白班 (操作者: 系統管理員)         │   │
│  │  14:30 - 移除「錢小凡」白班 (原因: 臨時請假)              │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘

🟢 = 可排班  🟡 = 已有其他班次  (L) = Leader
```

---

### 3.5 請假管理

```
┌─────────────────────────────────────────────────────────────────┐
│  請假管理                                        [+ 新增請假]   │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  [全部] [待審核 3] [已核准] [已駁回]        🔍 搜尋員工...      │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │  ⏳ 待審核                                               │   │
│  ├─────────────────────────────────────────────────────────┤   │
│  │  ┌───────────────────────────────────────────────────┐  │   │
│  │  │  👤 王小明                                         │  │   │
│  │  │  📅 2024/01/18 (四) 白班                          │  │   │
│  │  │  📋 事假 - 家中有事                                │  │   │
│  │  │  ⚠️ 核准後白班將無 Leader                          │  │   │
│  │  │                                                    │  │   │
│  │  │  申請時間: 2024/01/15 09:30                        │  │   │
│  │  │                              [駁回]  [核准]        │  │   │
│  │  └───────────────────────────────────────────────────┘  │   │
│  │                                                         │   │
│  │  ┌───────────────────────────────────────────────────┐  │   │
│  │  │  👤 李小華                                         │  │   │
│  │  │  📅 2024/01/20 (六) 全天                          │  │   │
│  │  │  📋 特休                                           │  │   │
│  │  │  ✓ 核准後人力仍足夠                                │  │   │
│  │  │                                                    │  │   │
│  │  │  申請時間: 2024/01/14 16:45                        │  │   │
│  │  │                              [駁回]  [核准]        │  │   │
│  │  └───────────────────────────────────────────────────┘  │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

### 3.6 請假申請表單（Modal）

```
┌─────────────────────────────────────────────┐
│  新增請假申請                          ✕    │
├─────────────────────────────────────────────┤
│                                             │
│  請假日期 *                                 │
│  ┌─────────────────────────────────────┐   │
│  │  📅 2024/01/18                      │   │
│  └─────────────────────────────────────┘   │
│                                             │
│  請假班別                                   │
│  ○ 全天  ● 白班  ○ 小夜  ○ 大夜            │
│                                             │
│  假別 *                                     │
│  ┌─────────────────────────────────────┐   │
│  │  事假                            ▼  │   │
│  └─────────────────────────────────────┘   │
│                                             │
│  請假原因                                   │
│  ┌─────────────────────────────────────┐   │
│  │  家中有事需處理                      │   │
│  │                                     │   │
│  └─────────────────────────────────────┘   │
│                                             │
│  ⚠️ 提醒：您是該班次唯一的 Leader，          │
│     請假後需安排其他 Leader 替代。          │
│                                             │
├─────────────────────────────────────────────┤
│                    [取消]  [送出申請]       │
└─────────────────────────────────────────────┘
```

---

### 3.7 跨院調度 - 人力總覽

```
┌─────────────────────────────────────────────────────────────────┐
│  跨院調度                                      [+ 發起調度申請]  │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  📅 日期選擇: 2024/01/16 (二)                    [白班 ▼]       │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │           │  需求  │  已排  │  狀態  │  可支援人力       │   │
│  ├───────────┼────────┼────────┼────────┼──────────────────┤   │
│  │  雙和院區  │   3    │   2    │  🔴-1  │  -               │   │
│  │  北醫院區  │   3    │   4    │  🟢+1  │  張大明、李小玲   │   │
│  │  萬芳院區  │   2    │   2    │  ✓ 0  │  -               │   │
│  │  附醫院區  │   3    │   3    │  ✓ 0  │  -               │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  💡 點擊「可支援人力」發起跨院調度申請                           │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │  待處理調度申請                                          │   │
│  ├─────────────────────────────────────────────────────────┤   │
│  │  📋 北醫 → 雙和                                         │   │
│  │     👤 張大明  📅 01/16 白班                             │   │
│  │     狀態: 待北醫主管核准                                 │   │
│  │     申請人: 王主任  申請時間: 01/15 10:30                │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

### 3.8 報表匯出

```
┌─────────────────────────────────────────────────────────────────┐
│  報表匯出                                                       │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌──────────────────────────┐  ┌──────────────────────────┐    │
│  │                          │  │                          │    │
│  │      📊                  │  │      📈                  │    │
│  │                          │  │                          │    │
│  │     班表報表              │  │     統計報表              │    │
│  │                          │  │                          │    │
│  │  匯出排班表               │  │  工時統計、出勤統計       │    │
│  │                          │  │                          │    │
│  └──────────────────────────┘  └──────────────────────────┘    │
│                                                                 │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━   │
│                                                                 │
│  📊 班表報表設定                                                │
│                                                                 │
│  院區選擇 *                                                     │
│  ☑ 雙和院區  ☑ 北醫院區  ☐ 萬芳院區  ☐ 附醫院區               │
│                                                                 │
│  時間範圍 *                                                     │
│  ┌────────────────┐  至  ┌────────────────┐                   │
│  │ 2024/01/01     │      │ 2024/01/31     │                   │
│  └────────────────┘      └────────────────┘                   │
│                                                                 │
│  匯出格式                                                       │
│  ● 週班表  ○ 月班表                                            │
│                                                                 │
│  檔案格式                                                       │
│  ● Excel (.xlsx)  ○ PDF                                        │
│                                                                 │
│  包含欄位                                                       │
│  ☑ 員工姓名  ☑ 工號  ☑ 班別  ☑ 時數統計  ☐ 備註               │
│                                                                 │
│                                        [預覽]  [匯出]           │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

### 3.9 通知中心（側邊抽屜）

```
                              ┌─────────────────────────────────┐
                              │  🔔 通知中心              全部已讀│
                              ├─────────────────────────────────┤
                              │                                 │
                              │  今天                           │
                              │  ┌───────────────────────────┐ │
                              │  │ 🔴 Leader 缺口警示         │ │
                              │  │ 01/16 白班缺少 Leader      │ │
                              │  │ 10 分鐘前                  │ │
                              │  └───────────────────────────┘ │
                              │  ┌───────────────────────────┐ │
                              │  │ 📋 請假申請待審核          │ │
                              │  │ 王小明申請 01/18 事假      │ │
                              │  │ 2 小時前                   │ │
                              │  └───────────────────────────┘ │
                              │                                 │
                              │  昨天                           │
                              │  ┌───────────────────────────┐ │
                              │  │ ✓ 跨院調度已核准           │ │
                              │  │ 張大明 01/15 支援雙和      │ │
                              │  │ 昨天 14:30                 │ │
                              │  └───────────────────────────┘ │
                              │  ┌───────────────────────────┐ │
                              │  │ 📅 班表提醒               │ │
                              │  │ 您明天 (01/15) 白班       │ │
                              │  │ 昨天 08:00                 │ │
                              │  └───────────────────────────┘ │
                              │                                 │
                              │          [查看全部通知]         │
                              └─────────────────────────────────┘
```

---

## 4. 使用者流程

### 4.1 手動調整班表流程

```
┌─────────┐    ┌─────────┐    ┌─────────┐    ┌─────────┐    ┌─────────┐
│ 進入    │    │ 選擇    │    │ 拖拉    │    │ 確認    │    │ 儲存    │
│ 班表管理 │───▶│ 日期    │───▶│ 調整    │───▶│ 無衝突  │───▶│ 完成    │
└─────────┘    └─────────┘    └─────────┘    └────┬────┘    └─────────┘
                                                  │ 有衝突
                                                  ▼
                                            ┌─────────┐
                                            │ 顯示    │
                                            │ 衝突提示 │
                                            └─────────┘
```

### 4.2 請假申請流程

```
員工                                        主管
  │                                          │
  │  ┌─────────┐                             │
  ├─▶│ 提交請假 │                             │
  │  └────┬────┘                             │
  │       │                                  │
  │       ▼                                  │
  │  ┌─────────┐     ┌─────────┐            │
  │  │ 系統檢查 │────▶│ 發送通知 │───────────▶│
  │  │ Leader  │     │ 給主管   │            │
  │  └─────────┘     └─────────┘            │
  │                                          │
  │                                    ┌─────┴─────┐
  │                                    │  審核請假  │
  │                                    └─────┬─────┘
  │                                          │
  │                         ┌────────────────┼────────────────┐
  │                         ▼                                 ▼
  │                   ┌─────────┐                       ┌─────────┐
  │                   │  核准   │                       │  駁回   │
  │                   └────┬────┘                       └────┬────┘
  │                        │                                 │
  │                        ▼                                 │
  │  ┌─────────┐     ┌─────────┐                            │
  │◀─┤ 收到通知 │◀────┤ 檢查    │                            │
  │  └─────────┘     │ Leader  │                            │
  │                  │ 缺口    │                            │
  │                  └────┬────┘                            │
  │                       │ 有缺口                          │
  │                       ▼                                  │
  │                 ┌───────────┐                            │
  │                 │ 發送警示   │                            │
  │                 │ 給相關人員 │                            │
  │                 └───────────┘                            │
  │                                                          │
  │◀─────────────────────────────────────────────────────────┤
  │                    收到駁回通知                           │
```

### 4.3 跨院調度流程

```
┌─────────┐    ┌─────────┐    ┌─────────┐    ┌─────────┐    ┌─────────┐
│ 查看    │    │ 選擇    │    │ 原院區   │    │ 目標院區 │    │ 更新    │
│ 人力總覽 │───▶│ 支援人員 │───▶│ 主管核准 │───▶│ 主管確認 │───▶│ 班表    │
└─────────┘    └─────────┘    └────┬────┘    └─────────┘    └─────────┘
                                   │ 駁回
                                   ▼
                             ┌─────────┐
                             │ 通知    │
                             │ 申請人   │
                             └─────────┘
```

---

## 5. 元件規格

### 5.1 班別標籤 (Shift Badge)

```
┌─────────────┐   ┌─────────────┐   ┌─────────────┐
│  ☀️ 白班     │   │  🌙 小夜     │   │  🌃 大夜     │
│  08-16      │   │  16-24      │   │  00-08      │
└─────────────┘   └─────────────┘   └─────────────┘
   #FFF8E1           #E3F2FD           #EDE7F6
```

### 5.2 人員卡片 (Employee Card)

```
┌──────────────────────────────────┐
│  👤 王小明                        │
│  工號: A001                       │
│  🏷️ Leader  📍 雙和院區           │
│  ☀️ ✓  🌙 ✓  🌃 ✗                │
└──────────────────────────────────┘
```

### 5.3 狀態指示器

| 狀態 | 圖示 | 顏色 | 說明 |
|------|------|------|------|
| 滿編 | ✓ | `#4CAF50` | 人力充足 |
| 不足 | ⚠️ | `#FF9800` | 人力不足但有 Leader |
| 缺口 | 🔴 | `#F44336` | 缺少 Leader |
| 待審 | ⏳ | `#2196F3` | 等待審核 |

### 5.4 按鈕樣式

```
主要按鈕（Primary）
┌───────────────┐
│    儲存       │  背景: #1976D2, 文字: #FFFFFF
└───────────────┘

次要按鈕（Secondary）
┌───────────────┐
│    取消       │  背景: transparent, 邊框: #1976D2
└───────────────┘

危險按鈕（Danger）
┌───────────────┐
│    刪除       │  背景: #F44336, 文字: #FFFFFF
└───────────────┘
```

---

## 6. 響應式設計

### 6.1 斷點設定

| 斷點 | 寬度 | 佈局 |
|------|------|------|
| Mobile | < 768px | 單欄，底部導航 |
| Tablet | 768px - 1024px | 可收合側邊導航 |
| Desktop | > 1024px | 固定側邊導航 |

### 6.2 Mobile 佈局

```
┌─────────────────────────┐
│  照護排班        🔔 👤  │
├─────────────────────────┤
│                         │
│      主內容區            │
│      （班表以列表呈現）   │
│                         │
│                         │
│                         │
│                         │
├─────────────────────────┤
│  🏠   📅   📝   👥   ⚙️  │
│  首頁 班表 請假 調度 設定 │
└─────────────────────────┘
```

---

## 7. 互動規格

### 7.1 拖拉排班
- 長按 0.3 秒啟動拖拉
- 拖拉時顯示半透明預覽
- 放置有效區域高亮顯示
- 放置無效區域顯示禁止圖示

### 7.2 通知提示
- Toast 通知：右上角，3 秒後自動消失
- 重要警示：Modal 強制確認
- 背景通知：瀏覽器 Push Notification

### 7.3 載入狀態
- 骨架屏（Skeleton）用於首次載入
- 局部 Loading 用於操作中
- 按鈕 Loading 狀態防止重複點擊

---

## 8. 待確認事項

- [ ] 是否需要深色模式
- [ ] 行動裝置是否需要原生 App 或 PWA 即可
- [ ] 班表是否需要支援列印優化樣式
- [ ] 通知音效設定
- [ ] 多語系支援需求
